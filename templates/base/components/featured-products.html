<section class="section featured-products">
    <div class="container">
        <h2 class="section-title">منتجات مميزة</h2>
        <div class="product-grid" id="featuredProducts">
            <!-- Products will be loaded from data.json -->
        </div>
        <div class="section-footer">
            <a href="/products.html" class="btn btn-secondary">عرض جميع المنتجات</a>
        </div>
    </div>
</section>

<style>
    .featured-products {
        background: var(--color-background, #0f0f0f);
        padding: var(--spacing-xl, 4rem) 0;
    }

    .section-title {
        color: var(--color-text, #fff);
        text-align: center;
        margin-bottom: 2rem;
    }

    .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 2rem;
    }

    .section-footer {
        text-align: center;
        margin-top: 2rem;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', async () => {
        const grid = document.getElementById('featuredProducts');
        try {
            const res = await fetch('./data/products.json');
            const products = await res.json();
            grid.innerHTML = products.slice(0, 4).map(p => `
                <div class="product-card">
                    <div class="product-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="80" height="80">
                            <path d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"/>
                        </svg>
                    </div>
                    <h3 class="product-name">${p.name}</h3>
                    <p class="product-price">${p.basePrice} ج.م</p>
                    <button class="btn btn-primary" onclick="AHCommerce.addToCart({id:'${p.id}',name:'${p.name}',price:${p.basePrice},image:''})">أضف للسلة</button>
                </div>
            `).join('');
        } catch (e) {
            grid.innerHTML = '<p style="color:var(--color-text-muted);">لا توجد منتجات حالياً</p>';
        }
    });
</script>

<style>
    .product-card {
        background: var(--color-surface, #1e1e1e);
        border-radius: var(--radius-lg, 12px);
        padding: 1.5rem;
        text-align: center;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(212, 175, 55, 0.2);
    }

    .product-icon {
        color: var(--color-primary, #d4af37);
        margin-bottom: 1rem;
    }

    .product-name {
        color: var(--color-text, #fff);
        margin-bottom: 0.5rem;
    }

    .product-price {
        color: var(--color-primary, #d4af37);
        font-weight: bold;
        margin-bottom: 1rem;
    }
</style>