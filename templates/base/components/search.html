<div class="search-container container">
    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="ÿßÿ®ÿ≠ÿ´ ŸÅŸä ÿßŸÑŸÖÿ™ÿ¨ÿ±..." class="search-input">
        <button id="searchBtn" class="search-btn">üîç</button>
    </div>

    <div id="searchResults" class="search-results-overlay" style="display: none;">
        <!-- Results will appear here -->
    </div>
</div>

<style>
    .search-container {
        margin: var(--spacing-md) auto;
        position: relative;
    }

    .search-bar {
        display: flex;
        gap: var(--spacing-sm);
        background: var(--surface);
        padding: var(--spacing-sm);
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-md);
    }

    .search-input {
        flex: 1;
        background: transparent;
        border: none;
        color: var(--text);
        padding: var(--spacing-sm);
        font-size: 1rem;
    }

    .search-input:focus {
        outline: none;
    }

    .search-btn {
        background: var(--primary);
        border: none;
        padding: var(--spacing-sm) var(--spacing-md);
        border-radius: var(--radius-md);
        cursor: pointer;
    }

    .search-results-overlay {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--surface);
        z-index: 1000;
        max-height: 400px;
        overflow-y: auto;
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-lg);
        margin-top: var(--spacing-sm);
        padding: var(--spacing-md);
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', async () => {
        const search = new AHSearch('./data/search-index.json');
        await search.init();

        const input = document.getElementById('searchInput');
        const resultsDiv = document.getElementById('searchResults');

        input.addEventListener('input', (e) => {
            const results = search.search(e.target.value);
            if (e.target.value && results.length > 0) {
                resultsDiv.style.display = 'block';
                resultsDiv.innerHTML = results.map(item => `
                    <div class="search-item" onclick="window.location.href='/product.html?id=${item.id}'">
                        <strong>${item.name}</strong>
                        <span>${item.price} [[commerce.currency_symbol]]</span>
                    </div>
                `).join('');
            } else {
                resultsDiv.style.display = 'none';
            }
        });
    });
</script>