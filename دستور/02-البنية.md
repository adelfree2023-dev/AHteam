# ğŸ—ï¸ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DIGITAL FACTORY                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Landing    â”‚â”€â”€â”€â–¶â”‚   Factory    â”‚â”€â”€â”€â–¶â”‚   Generator  â”‚      â”‚
â”‚  â”‚    Page      â”‚    â”‚     API      â”‚    â”‚    Engine    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                   â”‚                   â”‚               â”‚
â”‚         â–¼                   â–¼                   â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Payment    â”‚    â”‚   Database   â”‚    â”‚   Templates  â”‚      â”‚
â”‚  â”‚   Gateway    â”‚    â”‚  PostgreSQL  â”‚    â”‚   Library    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                                       â”‚               â”‚
â”‚         â–¼                                       â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Export     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   Design     â”‚       â”‚
â”‚  â”‚   Engine     â”‚                       â”‚   System     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚  â”‚   ZIP        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ CLIENT                            â”‚
â”‚  â”‚   Delivery   â”‚                                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©:

| Ø§Ù„Ù…ÙƒÙˆÙ† | Ø§Ù„ØªÙ‚Ù†ÙŠØ© | Ø§Ù„Ø³Ø¨Ø¨ |
|--------|---------|-------|
| Landing Page | HTML/CSS/JS | Ø³Ø±ÙŠØ¹ØŒ Ù„Ø§ build |
| API | Node.js + Express | Ù…Ø±Ù†ØŒ JavaScript ecosystem |
| Database | PostgreSQL | Ù…ÙˆØ«ÙˆÙ‚ØŒ Ù…Ø¬Ø§Ù†ÙŠ |
| Auth | JWT | Stateless |
| CDN | Cloudflare | Ù…Ø¬Ø§Ù†ÙŠØŒ Ø³Ø±ÙŠØ¹ |
| Generator | Node.js | Ù†ÙØ³ Ø§Ù„Ù„ØºØ© |
| Templates | HTML + CSS Variables | Ø¨Ø³ÙŠØ·ØŒ Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ®ØµÙŠØµ |
| Payment | Fawry + Vodafone | Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…ØµØ±ÙŠ |
| Email | Nodemailer + SMTP | Ù…Ø¨Ø§Ø´Ø± |
| Storage | Local FS + S3 | Ù…Ø±Ù† |

---

## Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª:

```
factory/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ landing/                 # ØµÙØ­Ø© Ø§Ù„Ù‡Ø¨ÙˆØ·
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â””â”€â”€ js/
â”‚   â”œâ”€â”€ factory-admin/           # Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØµÙ†Ø¹
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â””â”€â”€ assets/
â”‚   â””â”€â”€ api/                     # REST API
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ controllers/
â”‚       â”‚   â”œâ”€â”€ routes/
â”‚       â”‚   â”œâ”€â”€ models/
â”‚       â”‚   â”œâ”€â”€ middleware/
â”‚       â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ generator/               # Ù…Ø­Ø±Ùƒ Ø§Ù„ØªÙˆÙ„ÙŠØ¯
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ parsers/
â”‚   â”‚   â”‚   â”œâ”€â”€ compilers/
â”‚   â”‚   â”‚   â””â”€â”€ pipeline/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ templates/               # Ù…ÙƒØªØ¨Ø© Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨
â”‚   â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â””â”€â”€ variants/
â”‚   â”œâ”€â”€ design-system/           # Ù†Ø¸Ø§Ù… Ø§Ù„ØªØµÙ…ÙŠÙ…
â”‚   â”‚   â”œâ”€â”€ tokens/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ utilities/
â”‚   â”œâ”€â”€ payment/                 # Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹
â”‚   â”‚   â”œâ”€â”€ fawry/
â”‚   â”‚   â””â”€â”€ vodafone/
â”‚   â””â”€â”€ export/                  # Ù…Ø­Ø±Ùƒ Ø§Ù„ØªØµØ¯ÙŠØ±
â”‚       â”œâ”€â”€ packager/
â”‚       â”œâ”€â”€ docs-generator/
â”‚       â””â”€â”€ delivery/
â”‚
â”œâ”€â”€ output/                      # Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©
â”‚   â””â”€â”€ [project-id]/
â”‚
â”œâ”€â”€ docs/                        # Ø§Ù„ØªÙˆØ«ÙŠÙ‚
â”‚
â”œâ”€â”€ Ø¯Ø³ØªÙˆØ±/                       # Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¬Ù„Ø¯
â”‚
â”œâ”€â”€ package.json                 # Root package
â”œâ”€â”€ .env.example
â””â”€â”€ README.md
```

---

## Database Schema:

```sql
-- Orders (Ø§Ù„Ø·Ù„Ø¨Ø§Øª)
CREATE TABLE orders (
    id UUID PRIMARY KEY,
    store_name VARCHAR(255),
    email VARCHAR(255),
    phone VARCHAR(20),
    template_id VARCHAR(100),
    status ENUM('pending', 'paid', 'generated', 'delivered'),
    payment_method VARCHAR(50),
    amount DECIMAL(10,2),
    created_at TIMESTAMP,
    delivered_at TIMESTAMP
);

-- Templates (Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨)
CREATE TABLE templates (
    id VARCHAR(100) PRIMARY KEY,
    name VARCHAR(255),
    category VARCHAR(100),
    thumbnail_url VARCHAR(500),
    is_active BOOLEAN,
    created_at TIMESTAMP
);

-- Trials (Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©)
CREATE TABLE trials (
    id UUID PRIMARY KEY,
    order_id UUID REFERENCES orders(id),
    expires_at TIMESTAMP,
    status ENUM('active', 'expired', 'converted'),
    created_at TIMESTAMP
);
```

---

## API Endpoints:

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/orders` | Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ |
| GET | `/api/orders/:id` | Ø¬Ù„Ø¨ Ø·Ù„Ø¨ |
| POST | `/api/payment/fawry` | Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹ ÙÙˆØ±ÙŠ |
| POST | `/api/payment/vodafone` | Ù…Ø¹Ø§Ù„Ø¬Ø© ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ |
| POST | `/api/generate/:orderId` | ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…ØªØ¬Ø± |
| GET | `/api/download/:orderId` | ØªØ­Ù…ÙŠÙ„ ZIP |
| GET | `/api/templates` | Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ |
| POST | `/api/trial` | Ø¨Ø¯Ø¡ ÙØªØ±Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ© |
